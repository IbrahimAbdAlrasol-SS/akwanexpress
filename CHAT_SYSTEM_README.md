# ูุธุงู ุงูุฏุฑุฏุดุฉ ูู ุงูููุช ุงููุนูู

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ุฏุฑุฏุดุฉ ูุชูุงูู ูุฏุนู ุงูุชูุงุตู ูู ุงูููุช ุงููุนูู ุจูู ุงููุณุชุฎุฏููู ููููุงุก ุงูุฏุนู ุจุงุณุชุฎุฏุงู SignalR.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ุงูููุฒุงุช ุงูููููุฐุฉ:
1. **ุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ูู ุงูููุช ุงููุนูู**
2. **ุชุญุฏูุฏ ูููุฉ ุงููุฑุณู** (ุงููุณุชุฎุฏู ุฃู ุงููููู)
3. **ุญุงูุงุช ุงูุฑุณุงุฆู** (ููุฑุณูุฉุ ููุณุชููุฉุ ููุฑูุกุฉ)
4. **ุชุงุฑูุฎ ุงูุฏุฑุฏุดุฉ** - ุชุญููู ุงูุฑุณุงุฆู ุงูุณุงุจูุฉ
5. **ูุฌููุนุงุช ุงูุฏุฑุฏุดุฉ** - ุงูุงูุถูุงู ูุงููุบุงุฏุฑุฉ
6. **ุงูุชูุฑูุฑ ุงูุชููุงุฆู** ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ
7. **ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ** ูุน ููุงุนุงุช ุฑุณุงุฆู ุฌูููุฉ
8. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก** ุงููุญุณูุฉ

### ๐ ุงูููุฒุงุช ููุฏ ุงูุชุทููุฑ:
1. **ุฅุฑูุงู ุงูุตูุฑ ูุงููููุงุช**
2. **ุงูุชุณุฌูู ุงูุตูุชู**
3. **ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ**
4. **ุงูุจุญุซ ูู ุงูุฑุณุงุฆู**

## ุงูุจููุฉ ุงูุชูููุฉ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ:

#### 1. ุงูููุงุฐุฌ (Models)
- `chat_message.dart` - ูููุฐุฌ ุงูุฑุณุงูุฉ ูุน ุฌููุน ุงูุฎุตุงุฆุต

#### 2. ุงูุงุชุตุงู (Connection)
- `chat_hub_connection.dart` - ุฅุฏุงุฑุฉ ุงุชุตุงู SignalR ูุงูุฃุญุฏุงุซ

#### 3. ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช (State Management)
- `chat_provider.dart` - ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุฑุณุงุฆู ุจุงุณุชุฎุฏุงู Riverpod

#### 4. ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI)
- `chat_screen.dart` - ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ููุฏุฑุฏุดุฉ
- `chat_message_bubble.dart` - ููุงุนุฉ ุงูุฑุณุงูุฉ
- `input_bar.dart` - ุดุฑูุท ุฅุฏุฎุงู ุงูุฑุณุงุฆู
- `chat_header.dart` - ุฑุฃุณ ุงูุฏุฑุฏุดุฉ
- `agent_info.dart` - ูุนูููุงุช ุงููููู

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ูุชุญ ุดุงุดุฉ ุงูุฏุฑุฏุดุฉ:
```dart
Navigator.push(
  context,
  MaterialPageRoute(
    builder: (context) => SupportChatScreen(ticketId: "ticket_id"),
  ),
);
```

### 2. ุงููุธุงุฆู ุงููุชุงุญุฉ:

#### ุฅุฑุณุงู ุฑุณุงูุฉ:
```dart
final message = ChatMessage(
  content: "ูุต ุงูุฑุณุงูุฉ",
  senderId: "user_id",
  ticketId: "ticket_id",
);
notifier.addMessage(ticketId, message);
```

#### ุทูุจ ุชุงุฑูุฎ ุงูุฏุฑุฏุดุฉ:
```dart
await requestChatHistory(ticketId);
```

#### ุงูุงูุถูุงู ููุฌููุนุฉ ุงูุฏุฑุฏุดุฉ:
```dart
await joinChatGroup(ticketId);
```

#### ูุบุงุฏุฑุฉ ูุฌููุนุฉ ุงูุฏุฑุฏุดุฉ:
```dart
await leaveChatGroup(ticketId);
```

#### ุชุญุฏูุฏ ุงูุฑุณุงุฆู ูููุฑูุกุฉ:
```dart
await markMessagesAsRead(ticketId);
```

## ุฃุญุฏุงุซ SignalR

### ุงูุฃุญุฏุงุซ ุงูููุณุชูุจูุฉ:
- `LoadChatHistory` - ุชุญููู ุชุงุฑูุฎ ุงูุฑุณุงุฆู
- `ReceiveMessage` - ุงุณุชูุจุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
- `MessageDelivered` - ุชุฃููุฏ ุชุณููู ุงูุฑุณุงูุฉ
- `MessageRead` - ุชุฃููุฏ ูุฑุงุกุฉ ุงูุฑุณุงูุฉ

### ุงูุฃุญุฏุงุซ ุงูููุฑุณูุฉ:
- `SendMessage` - ุฅุฑุณุงู ุฑุณุงูุฉ
- `RequestChatHistory` - ุทูุจ ุชุงุฑูุฎ ุงูุฑุณุงุฆู
- `JoinGroup` - ุงูุงูุถูุงู ููุฌููุนุฉ
- `LeaveGroup` - ูุบุงุฏุฑุฉ ูุฌููุนุฉ
- `MarkAsRead` - ุชุญุฏูุฏ ูููุฑูุก

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

1. **ุฅุถุงูุฉ ุฏุนู ุงููููุงุช ูุงูุตูุฑ**
2. **ุชุญุณูู ุงูุฃุฏุงุก ููุฑุณุงุฆู ุงููุซูุฑุฉ**
3. **ุฅุถุงูุฉ ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ**
4. **ุฏุนู ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ**
5. **ุงูุจุญุซ ูู ุงูุฑุณุงุฆู**
6. **ุญูุธ ุงููุณูุฏุงุช**

## ุงูุงุฎุชุจุงุฑ

ููุงุฎุชุจุงุฑุ ุชุฃูุฏ ูู:
1. ุชุดุบูู ุฎุงุฏู SignalR
2. ูุฌูุฏ ุงุชุตุงู ุฅูุชุฑูุช
3. ุตุญุฉ ูุนุฑู ุงูุชุฐูุฑุฉ (ticketId)
4. ุตุญุฉ ุฑูุฒ ุงููุตุงุฏูุฉ (token)

## ุงููุชุทูุจุงุช

- Flutter SDK
- signalr_core package
- flutter_riverpod package
- shared_preferences package

## ุงูุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู ุฃู ุฃุณุฆูุฉุ ูุฑุฌู ูุฑุงุฌุนุฉ:
1. ุณุฌูุงุช ูุญุฏุฉ ุงูุชุญูู ููุฃุฎุทุงุก
2. ุญุงูุฉ ุงุชุตุงู SignalR
3. ุตุญุฉ ุงูุจูุงูุงุช ุงูููุฑุณูุฉ ูุงูููุณุชูุจูุฉ